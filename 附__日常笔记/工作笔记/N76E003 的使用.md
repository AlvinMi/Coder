# N76E003 学习笔记

* 外部时钟引脚，只有 OSC_IN，没有 OSC_OUT，那么如果使用外部 OSC，估计只能使用有源晶振。
* GPIO 可以设置成准双向口，没有上拉输入模式，而且，如果要使用 GPIO 的外部中断，还必须把 GPIO 设置成输入模式，不能设置成 “准双向口”，这样问题来了：如果要使用外部中断，那么这个中断脚必须要加外部上拉电阻。
* 相比 STM8 多一个 IO 口，但其实是多了半个 IO 口，RST 引脚作用 IO 口使用的时候，只能作为输入口。
而且, NULINK 调试需要 3 根线（SCLK，SDA，RST），STM8 调试只需要 2 根线（RST，SWIM），无形之中 STM8 就少一个 IO 口了。就调试方便性来说，跟 STM8 还差的远。
* SPI 接口，N76E003 没有 “单线仅输出” 模式，也就是说，只要用了硬件 SPI，SCK、MOSI、MISO 这 3 个脚就必须复用成 SPI 引脚，在有些场合（比如要驱动 SPI 显示屏，只需要 SCK 和 MOSI，不需要 MISO），那么 MISO 这个引脚就浪费掉了。


## 外加 DS3231
常用的 DS3102 需使用外置晶振，且没有温度补偿，因此误差较大。 DS3231 内置晶振且有内部温度补偿，误差可做到 1 分钟每年。

### DS3231 概述
DS3231 是低成本、高精度 I²C 实时时钟 (RTC)，具有集成的温补晶振 (TCXO) 和晶体。该器件包含电池输入端，断开主电源时仍可保持精确的计时。集成晶振提高了器件的长期精确度，并减少了生产线的元件数量。DS3231 提供商用级和工业级温度范围，采用 16 引脚 300mil 的 SO 封装。

RTC 保存秒、分、时、星期、日期、月和年信息。少于 31 天的月份，将自动调整月末的日期，包括闰年的修正。时钟的工作格式可以是 24 小时或带 / AM/PM 指示的 12 小时格式。提供两个可设置的日历闹钟和一个可设置的方波输出。地址与数据通过 I²C 双向总线串行传输。

精密的、经过温度补偿的电压基准和比较器电路用来监视 VCC 状态，检测电源故障，提供复位输出，并在必要时自动切换到备份电源。另外，/RST 监视引脚可以作为产生 µP 复位的手动输入。

### 引脚图
* VCC 为电源引脚。
*

I2C 引脚(两种组合), 由寄存器 I2CPX 选择:
* I2CPX = 0 : SCL = P1.3, SDA = P1.4.
* I2CPX = 1 : SCL = P0.2, SDA = P1.6.
